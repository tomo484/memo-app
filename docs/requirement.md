# 要件定義書

## 1. プロジェクト概要

### 1.1 基本情報
- **プロジェクト名**: シンプルメモ帳アプリ
- **目的**: 個人用のローカルメモ管理システム
- **制約**: 5時間以内での実装完了
- **対象ユーザー**: 個人利用者（単一ユーザー）
- **開発期間**: 2024年1月（想定5時間）

### 1.2 プロジェクト目標
- 素早くメモを作成・編集・削除できるシンプルなWebアプリケーション
- ローカル環境での完結型メモ管理
- 直感的で使いやすいUI/UXの提供

## 2. 機能要件

### 2.1 メモ検索機能 (F001)
- **概要**: メモ内容を検索してフィルタリングできる
- **詳細仕様**:
  - 左サイドバー上部に検索バーを配置
  - リアルタイム検索（入力と同時にフィルタリング）
  - メモタイトルと内容の全文検索
  - 検索結果のハイライト表示
- **入力項目**: 検索クエリ（テキスト）
- **出力**: フィルタリングされたメモ一覧
- **業務ルール**:
  - 大文字小文字を区別しない
  - 空の検索クエリでは全メモを表示
  - 検索クエリが3文字未満の場合は検索を実行しない

### 2.2 メモ作成機能 (F002)
- **概要**: 新しいメモを作成できる
- **詳細仕様**:
  - ヘッダーの「+ New Note」ボタンで新規メモ作成
  - 右側エディタエリアに空のメモを表示
  - テキストエリアでの自由入力（文字数制限なし）
  - 作成日時は自動付与
  - 自動保存機能
- **入力項目**: メモ内容（テキスト）
- **出力**: メモID、メモ内容、作成日時
- **業務ルール**:
  - 空のメモも保存可能
  - メモIDは自動生成（UUID v4）
  - 作成と同時に更新日時も同じ値で設定
  - 作成後は左サイドバーに自動追加

### 2.3 メモ編集機能 (F003)
- **概要**: 既存メモの内容を編集できる
- **詳細仕様**:
  - 左サイドバーからメモをクリックして右側エディタに表示
  - 既存内容を表示した状態で編集開始
  - リアルタイム自動保存（3秒間の無操作後）
  - 更新日時は自動更新
- **入力項目**: 編集後メモ内容
- **出力**: 更新されたメモ情報
- **業務ルール**:
  - 編集中は自動保存表示
  - 内容に変更がない場合は保存処理をスキップ
  - テキストエリアは自動リサイズ
  - 編集中のメモは左サイドバーでハイライト表示

### 2.4 メモ削除機能 (F004)
- **概要**: 不要なメモを削除できる
- **詳細仕様**:
  - 右側エディタエリアから削除ボタンで実行
  - 削除確認ダイアログを表示
  - 削除は物理削除（完全除去）
- **入力項目**: 削除対象メモID
- **出力**: 削除完了通知
- **業務ルール**:
  - 削除後は左サイドバーから除去
  - 削除の取り消し機能は提供しない
  - 確認ダイアログで誤削除を防止
  - 削除後は空のエディタ状態に戻る

### 2.5 メモ一覧表示機能 (F005)
- **概要**: 保存済みメモの一覧を左サイドバーに表示
- **詳細仕様**:
  - 左サイドバーに縦一列で表示
  - 最新更新順でソート表示
  - メモタイトル（先頭30文字）、更新日時を表示
  - メモが0件の場合は空状態メッセージを表示
  - スクロール可能なリスト形式
  - 選択されたメモにハイライト表示
- **表示項目**: メモアイコン、メモタイトル、更新日時、文字数
- **業務ルール**:
  - タイトルは改行文字を除去して先頭20文字（横幅制限のため）
  - 更新日時は相対時間表示（例：2時間前）
  - 文字数は改行も含めてカウント
  - クリックで右側エディタに内容を表示

### 2.6 データ永続化機能 (F006)
- **概要**: メモデータをブラウザに永続保存
- **詳細仕様**:
  - localStorage使用での保存
  - JSON形式でのデータ構造
  - ページリロード後もデータ保持
  - ブラウザクリア時のデータ消失は許容
- **業務ルール**:
  - 保存失敗時はアラート表示
  - データサイズ制限（localStorage 5MB）
  - 古いデータとの互換性は考慮しない

## 3. 非機能要件

### 3.1 性能要件
- **応答時間**:
  - ページ読み込み時間: 2秒以内
  - メモ保存処理: 1秒以内
  - 画面遷移: 即座（500ms以内）
- **スループット**:
  - 同時表示メモ数: 1000件まで対応
  - 1メモあたり最大文字数: 100,000文字

### 3.2 ユーザビリティ要件
- **操作性**:
  - 直感的な操作（説明不要レベル）
  - キーボードショートカット対応
  - エラー時の分かりやすいメッセージ
- **アクセシビリティ**:
  - 基本的なキーボード操作対応
  - 適切なコントラスト比
  - セマンティックなHTML構造

### 3.3 互換性要件
- **ブラウザ対応**:
  - Chrome 90+
  - Firefox 90+
  - Safari 14+
  - Edge 90+
- **デバイス対応**:
  - PC（デスクトップ）
  - タブレット（iPad等）
  - スマートフォンは対象外

### 3.4 技術要件
- **フレームワーク**: Next.js 15.3.3 + React 19
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS v4
- **ストレージ**: localStorage（5MB制限考慮）
- **ビルドツール**: Next.js標準ツールチェーン

## 4. 制約事項

### 4.1 時間制約
- 開発時間: 5時間以内での完了必須
- テスト時間: 開発時間に含む
- ドキュメント作成: 最小限

### 4.2 技術制約
- 外部API使用不可
- サーバーサイド処理なし
- データベース使用不可
- 認証機能不要

### 4.3 機能制約
- 多人数での同時利用は想定しない
- データのバックアップ機能は提供しない
- 他デバイスとの同期機能は提供しない

## 5. 成功基準

### 5.1 機能面
- [ ] 全ての必須機能が正常に動作する
- [ ] データの永続化が確実に行われる
- [ ] 1000件のメモでも快適に動作する

### 5.2 品質面
- [ ] 明らかなUIの不具合がない
- [ ] エラーが発生しても適切にハンドリングされる
- [ ] 直感的に操作できる

### 5.3 納期面
- [ ] 5時間以内に実装完了
- [ ] 基本的な動作テストが完了している 